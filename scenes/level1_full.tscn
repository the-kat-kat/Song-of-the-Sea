[gd_scene load_steps=25 format=3 uid="uid://cgrfe01wegji4"]

[ext_resource type="Script" uid="uid://bsyvhc4xlrfk3" path="res://scripts/main.gd" id="1_o2mis"]
[ext_resource type="PackedScene" uid="uid://bok5465lpn3wk" path="res://scenes/environment/enemy.tscn" id="4_5i0hr"]
[ext_resource type="PackedScene" uid="uid://b37o51iyq1xg8" path="res://scenes/player/player.tscn" id="5_5i0hr"]
[ext_resource type="Script" uid="uid://c3bindv088m03" path="res://scripts/enemyspawner.gd" id="6_3xnes"]
[ext_resource type="PackedScene" uid="uid://cy5vpdxiqjn7x" path="res://scenes/environment/whale.tscn" id="8_c1wvr"]
[ext_resource type="Resource" uid="uid://b4k2pemnelcur" path="res://dialogue/whale.dialogue" id="9_ebll6"]
[ext_resource type="Resource" uid="uid://c8sateb28ei0i" path="res://whale2.dialogue" id="10_qxwt3"]
[ext_resource type="AudioStream" uid="uid://2eiki3mclfbh" path="res://audio/waves.mp3" id="11_xfxrm"]
[ext_resource type="Script" uid="uid://vdk0w1tmwmak" path="res://scenes/wave_adio.gd" id="12_gg5fr"]
[ext_resource type="Texture2D" uid="uid://cmr6ytecm2i7" path="res://art/environment/level_blobs/Untitled_Artwork-5 2.png" id="12_onx2v"]
[ext_resource type="Texture2D" uid="uid://cc6sorpncasmh" path="res://art/environment/level_blobs/Untitled_Artwork-6 2.png" id="13_bm0my"]
[ext_resource type="Texture2D" uid="uid://bll6w6p2lv702" path="res://art/environment/level_blobs/Untitled_Artwork-4 2.png" id="14_5i0hr"]
[ext_resource type="PackedScene" uid="uid://co6jyburghxre" path="res://scenes/boundary_collisions.tscn" id="14_jn1qx"]
[ext_resource type="Texture2D" uid="uid://fbkwd2kghxal" path="res://art/environment/level_blobs/Untitled_Artwork-3 2.png" id="15_3xnes"]
[ext_resource type="Script" uid="uid://ci64r51is4oqc" path="res://scenes/sparkler_spawner.gd" id="15_nsabg"]
[ext_resource type="PackedScene" uid="uid://c7j1tu276cmgs" path="res://scenes/tunnel.tscn" id="16_o2mis"]
[ext_resource type="Texture2D" uid="uid://krakpv7dri0u" path="res://art/environment/level_blobs/Untitled_Artwork-2 2.png" id="16_tv2nk"]
[ext_resource type="FontFile" uid="uid://bo5ne51gkjwi0" path="res://dialogue/fonts/AdabelleHandwriting-Regular.ttf" id="16_w7eol"]
[ext_resource type="Texture2D" uid="uid://cqlutk6c267ve" path="res://art/environment/level_blobs/Untitled_Artwork-1 3.png" id="17_c1wvr"]
[ext_resource type="Texture2D" uid="uid://c46nsndhse13j" path="res://art/environment/level_blobs/current.png" id="18_bm0my"]

[sub_resource type="Theme" id="Theme_qse01"]
default_font = ExtResource("16_w7eol")
default_font_size = 40
/font_sizes/default = 40
/fonts/font = ExtResource("16_w7eol")

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_y6clf"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_biknp"]

[sub_resource type="Curve2D" id="Curve2D_o2mis"]
bake_interval = 195.38
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 100, 345, 0, 0, 0, 0, 261, 844, 0, 0, 0, 0, 183, 1378, 0, 0, 0, 0, -355, 2272, 0, 0, 0, 0, -1076, 2286)
}
point_count = 5

[node name="MainFull" type="Node2D" groups=["main"]]
script = ExtResource("1_o2mis")

[node name="Player" parent="." instance=ExtResource("5_5i0hr")]
position = Vector2(-612, -556)

[node name="Whale" parent="." instance=ExtResource("8_c1wvr")]
position = Vector2(-344, -328)
scale = Vector2(0.5, 0.5)
dialogue_resource = ExtResource("9_ebll6")

[node name="Whale2" parent="." instance=ExtResource("8_c1wvr")]
position = Vector2(2309, -707)
rotation = 3.14159
scale = Vector2(0.5, -0.5)
dialogue_resource = ExtResource("10_qxwt3")

[node name="Environment" type="Node2D" parent="."]

[node name="text" type="Control" parent="Environment"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="talk" type="TextEdit" parent="Environment/text"]
z_index = 200
layout_mode = 1
anchors_preset = -1
anchor_left = 0.625
anchor_top = -0.1
anchor_right = 2.525
anchor_bottom = 0.45
offset_left = -161.0
offset_top = -573.0
offset_right = 80.0
offset_bottom = -473.0
theme = SubResource("Theme_qse01")
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_styles/normal = SubResource("StyleBoxEmpty_y6clf")
text = "Talk to the whale! 
(Press E)"
metadata/_edit_use_anchors_ = true

[node name="sparkler_spawner" type="Node2D" parent="Environment"]
script = ExtResource("15_nsabg")
sparkle_count = 30

[node name="CanvasLayer" type="CanvasLayer" parent="Environment"]
layer = 4
follow_viewport_enabled = true

[node name="BoundaryCollisions" parent="Environment/CanvasLayer" instance=ExtResource("14_jn1qx")]
z_index = 100
z_as_relative = false
position = Vector2(15, -630)

[node name="WaveAudio" type="AudioStreamPlayer2D" parent="Environment"]
position = Vector2(0, -900)
scale = Vector2(0.5, 0.5)
stream = ExtResource("11_xfxrm")
volume_db = -15.0
max_distance = 1200.0
attenuation = 2.2974
panning_strength = 1.85
bus = &"sfx"
area_mask = 3
parameters/looping = true
script = ExtResource("12_gg5fr")

[node name="UIBack" type="CanvasLayer" parent="Environment"]
layer = -128

[node name="ColorRect" type="ColorRect" parent="Environment/UIBack"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -5352.0
offset_top = -1265.0
offset_right = 5471.0
offset_bottom = 5254.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.549978, 0.941276, 1, 1)

[node name="StaticBody2D" type="StaticBody2D" parent="Environment"]
modulate = Color(0.813258, 0.813258, 0.813258, 1)
physics_material_override = SubResource("PhysicsMaterial_biknp")

[node name="1" type="CollisionPolygon2D" parent="Environment/StaticBody2D"]
position = Vector2(-1242, 573)
scale = Vector2(2.77199, 3.32428)
polygon = PackedVector2Array(5.41129, -493.34, 212.483, -462.055, 169.553, -389.859, 161.256, -268.93, 255.051, -166.653, 372.656, -109.197, 447.332, -40.0087, 462.209, 203.762, 382.844, 288.292, 278.861, 331.801, 77.5616, 361.883, -71.4288, 396.477, -242.425, 451.827, -360.752, 436.485, -498.919, 337.818, -568.905, 240.353, -742.788, 242.459, -947.695, 327.289, -1010.47, 479.803, -931.461, 571.552, -702.023, 646.757, -666.669, 582.081, -619.411, 551.999, -497.116, 583.284, -390.694, 558.316, -310.246, 550.796, -197.692, 592.91, -125.542, 663.903, 8.65805, 627.805, 134.56, 609.455, 183.983, 632.618, 200.578, 672.326, 181.458, 702.107, 134.2, 731.286, 6.85428, 797.466, -40.0434, 875.979, -54.8342, 971.94, 9.37955, 1040.53, 203.825, 1036.62, 300.867, 1038.72, 352.094, 1078.13, 431.459, 1031.2, 526.337, 974.948, 624.822, 973.745, 708.877, 999.314, 776.338, 1054.66, 775.616, 1117.84, 868.329, 1190.63, 900.797, 1282.38, 990.624, 1387.07, 1130.23, 1401.51, 1264.8, 1292.61, 1373.38, 1154.84, 1371.58, 928.321, 1431.46, 811.905, 1505.42, 716.245, 1629.52, 767.685, 1668.12, 866.654, 1642.5, 927.72, 1548.71, 1032.1, 1485.21, 1180.71, 1422.44, 1321.19, 1285.72, 1443.02, 1158.37, 1582.9, 1024.17, 1604.86, 889.614, 1513.71, 226.278, 1316.85, -262.901, 1083.11, -346.596, 737.472, -1310.25, 592.309, -1168.11, 191.32, -385.918, 81.3897, -480.435, -465.255, -232.237, -486.312)

[node name="2" type="CollisionPolygon2D" parent="Environment/StaticBody2D"]
position = Vector2(0, 858.2)
polygon = PackedVector2Array(240, -1892.2, 114, -1385.2, 188, -876.2, 418, -147.2, 479, 341.8, 548, 606.8, 204, 788.8, 213, 901.8, 370, 1060.8, 620, 1045.8, 860, 968.8, 1092, 856.8, 1387, 906.8, 2420, 1499, 2759, 1468.8, 2951, 1071.8, 2889, 499.8, 2963, 7.79999, 2717, -379.2, 2494, -574.2, 2060, -745.2, 1847, -1173.2, 1481, -1881.2, 882, -1846.2)

[node name="3" type="CollisionPolygon2D" parent="Environment/StaticBody2D"]
position = Vector2(-57, 3291.2)
polygon = PackedVector2Array(-236, -578.2, -263, -356.2, -100, -260.2, 220, -249.2, 373, -115.2, 534, 87.8, 795, 185.8, 1128, 207.8, 1340, 131.8, 1244, -67.2, 1030, -186.2, 965, -283.2, 919, -438.2, 932, -714.2, 647, -829.2, 494, -921.2, 242, -980.2, 51, -893.2, -81, -747.2)

[node name="Back2" type="Node2D" parent="Environment"]

[node name="Sprite2D" type="Sprite2D" parent="Environment/Back2"]
position = Vector2(1031, 840)
rotation = -0.206301
scale = Vector2(2.28125, 2.93395)
texture = ExtResource("12_onx2v")

[node name="Sprite2D2" type="Sprite2D" parent="Environment/Back2"]
visible = false
position = Vector2(-1206, -200)
scale = Vector2(1.54444, 1.57531)
texture = ExtResource("13_bm0my")

[node name="Sprite2D3" type="Sprite2D" parent="Environment/Back2"]
position = Vector2(635, 3202)
scale = Vector2(1.54444, 1.57531)
texture = ExtResource("14_5i0hr")

[node name="Sprite2D4" type="Sprite2D" parent="Environment/Back2"]
position = Vector2(-624, 3526)
scale = Vector2(1.54444, 1.57531)
texture = ExtResource("15_3xnes")

[node name="Sprite2D5" type="Sprite2D" parent="Environment/Back2"]
position = Vector2(-502, 4023)
rotation = 0.767189
scale = Vector2(1.54444, 1.57531)
texture = ExtResource("16_tv2nk")

[node name="Sprite2D6" type="Sprite2D" parent="Environment/Back2"]
position = Vector2(-1994, 268)
rotation = 0.93038
scale = Vector2(2.32548, 2.24455)
texture = ExtResource("16_tv2nk")

[node name="Sprite2D7" type="Sprite2D" parent="Environment/Back2"]
position = Vector2(-2275, 4426)
rotation = 0.93038
scale = Vector2(2.32548, 2.24455)
texture = ExtResource("17_c1wvr")

[node name="Sprite2D8" type="Sprite2D" parent="Environment/Back2"]
position = Vector2(-2872.3, 2131.21)
rotation = 0.398114
scale = Vector2(2.16982, 2.07173)
texture = ExtResource("15_3xnes")

[node name="Sprite2D9" type="Sprite2D" parent="Environment/Back2"]
position = Vector2(1746, 3923)
rotation = -1.03175
scale = Vector2(2.16982, 2.07173)
texture = ExtResource("13_bm0my")

[node name="Sprite2D10" type="Sprite2D" parent="Environment/Back2"]
position = Vector2(390, 1343)
rotation = 0.767189
scale = Vector2(0.954013, 0.982238)
texture = ExtResource("16_tv2nk")

[node name="Sprite2D11" type="Sprite2D" parent="Environment/Back2"]
modulate = Color(0.88, 0.88, 1, 0.7)
z_index = -1
position = Vector2(197, 517)
rotation = -0.206301
scale = Vector2(2.28125, 2.93395)
texture = ExtResource("18_bm0my")

[node name="Front2" type="Node2D" parent="Environment"]

[node name="Sprite2D" type="Sprite2D" parent="Environment/Front2"]
modulate = Color(1, 1.3, 1.3, 0.686)
position = Vector2(1141.12, 694.607)
rotation = -0.377498
scale = Vector2(2.03557, 2.96769)
texture = ExtResource("12_onx2v")

[node name="Sprite2D3" type="Sprite2D" parent="Environment/Front2"]
modulate = Color(1, 1.3, 1.3, 0.817)
position = Vector2(635, 3202)
rotation = -0.237841
scale = Vector2(1.54444, 1.57531)
texture = ExtResource("14_5i0hr")

[node name="Sprite2D4" type="Sprite2D" parent="Environment/Front2"]
modulate = Color(1, 1.3, 1.3, 0.724)
position = Vector2(-720, 3295)
rotation = -0.483999
scale = Vector2(1.54444, 1.57531)
texture = ExtResource("15_3xnes")

[node name="Sprite2D5" type="Sprite2D" parent="Environment/Front2"]
modulate = Color(1, 1.3, 1.3, 0.795)
position = Vector2(-294, 3975)
rotation = 0.91479
scale = Vector2(1.54444, 1.57531)
texture = ExtResource("16_tv2nk")

[node name="Sprite2D6" type="Sprite2D" parent="Environment/Front2"]
modulate = Color(1, 1.2, 1.2, 0.801)
position = Vector2(-2058, 172)
rotation = 1.03016
scale = Vector2(2.05956, 2.57716)
texture = ExtResource("16_tv2nk")

[node name="Sprite2D7" type="Sprite2D" parent="Environment/Front2"]
modulate = Color(1, 1.2, 1.2, 0.7)
position = Vector2(-2275, 4426)
rotation = 0.770386
scale = Vector2(2.32548, 2.24455)
texture = ExtResource("17_c1wvr")

[node name="Sprite2D8" type="Sprite2D" parent="Environment/Front2"]
modulate = Color(1, 1.2, 1.2, 0.7)
position = Vector2(-2872.3, 2131.21)
rotation = 0.618657
scale = Vector2(2.35827, 1.51158)
texture = ExtResource("15_3xnes")

[node name="Sprite2D10" type="Sprite2D" parent="Environment/Front2"]
modulate = Color(1, 1.2, 1.2, 0.7)
position = Vector2(390, 1343)
rotation = 0.417684
scale = Vector2(1.34106, 0.764034)
texture = ExtResource("16_tv2nk")

[node name="Sprite2D9" type="Sprite2D" parent="Environment/Front2"]
modulate = Color(1, 1.2, 1.2, 0.7)
position = Vector2(1746, 3923)
rotation = -1.03175
scale = Vector2(1.85649, 2.54603)
texture = ExtResource("13_bm0my")

[node name="TunnelStuff" type="Node2D" parent="Environment"]

[node name="Tunnel" parent="Environment/TunnelStuff" instance=ExtResource("16_o2mis")]
position = Vector2(102, 346)
path_node = NodePath("../Path2D")
travel_time = 2.0
rotate = 10.0

[node name="Path2D" type="Path2D" parent="Environment/TunnelStuff"]
modulate = Color(0.288518, 0.288518, 0.288518, 1)
curve = SubResource("Curve2D_o2mis")

[node name="PathFollow2D" type="PathFollow2D" parent="Environment/TunnelStuff/Path2D"]
position = Vector2(100, 345)
rotation = 1.2587

[node name="EnemySpawner" type="Node2D" parent="Environment" groups=["enemy_spawner"]]
position = Vector2(1550, 100)
script = ExtResource("6_3xnes")

[node name="Enemy" parent="Environment/EnemySpawner" instance=ExtResource("4_5i0hr")]
position = Vector2(-1942, 2381)

[node name="Enemy2" parent="Environment/EnemySpawner" instance=ExtResource("4_5i0hr")]
position = Vector2(-191, 2113)

[node name="Enemy3" parent="Environment/EnemySpawner" instance=ExtResource("4_5i0hr")]
position = Vector2(184, 3372)

[node name="Enemy4" parent="Environment/EnemySpawner" instance=ExtResource("4_5i0hr")]
position = Vector2(-2478, 1821)

[node name="Enemy5" parent="Environment/EnemySpawner" instance=ExtResource("4_5i0hr")]
position = Vector2(-1687, -706)

[node name="Enemy6" parent="Environment/EnemySpawner" instance=ExtResource("4_5i0hr")]
position = Vector2(-2716, 2311)
